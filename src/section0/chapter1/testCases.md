## 测试用例

为了更有效和更高效的测试，测试用例必须经过设计，而不是简单拼凑。“设计”这个词有多种定义：
1. 在头脑中构思或塑造；发明：*想出一个参加 STAR(Software Testing Analysis&Review) 测试会议的好理由*。制定计划;策划：*为新产品设计营销策略*。
2. 以书面形式做系统化的计划；*设计一个建筑物；设计一个测试用例*。
3. 为特定目的或效果而创造或设计：*设计一个吸引所有年龄段的人的游戏。*。
4. 为设立目标和目的而设定计划。
5. 以艺术的或高技能的方式创作或执行。

&nbsp;&nbsp; **关键点：** 为了更有效和更高效的测试，测试用例必须经过设计，而不是简单拼凑。

这些定义中的每一个都适用于良好的测试用例设计。关于测试用例设计，Roger Pressman 写到：

> 软件和其他工程产品的测试设计可能与产品本身的初始设计一样具有挑战性。但是...测试工程师经常认为测试是在开发之后的事情，编写测试用例时也只是感觉良好，却不能保证做到完整覆盖。回顾测试的目标，我们必须设计出最有可能以最少的时间和精力发现最多错误的测试用例。

精心设计的测试用例包含以下三个部分：

- 输入
- 输出
- 执行顺序

&nbsp;&nbsp; **关键点：** 测试用例包含输入、输出、执行顺序。

#### 输入：

输入经常被认为是在键盘上输入数据，虽然这是一个系统输入的重要来源，但是数据也可以来自其他来源：接口系统、接口设备、数据库、文件、以及系统运行时所处的环境。

#### 输出：

输出同样有很多种，通常被认为是显示在屏幕上的数据。但输出还可以是发送到接口系统和外部设备、写入文件或数据库的数据。系统的执行可能对环境或状态的改变也是输出。

所有相关的输入输出都是测试用例的重要组成部分。在设计测试用例时，确定预期结果是一个 *oracle* 的职责。

*oracle* 是所有为测试设计者提供预期结果的程序、过程或数据。Beizer 列出了5种类型的 *oracles*：

- 初级 Oracles - 只是运行程序和查看结果，如果它看起来正确，那么他就是正确的。
- 回归测试套件 - 运行程序并比较输出结果是否和该用例在上个版本得到的结果相同。
- 数据验证 - 运行程序并和相关标准比较，比如表格、公式、其他可接受的有效输出定义。
- 付费测试套件 - 运行程序并和已经过验证的标准测试套件结果比较，在对编译器、Web 浏览器、SQL 处理器等进行测试时会使用此种方法。
- 已有程序 - 运行程序并和另一个版本的程序输出进行比较。

#### 执行顺序

依据测试执行顺序有两种测试用例设计风格

- 串联测试用例 --- 测试用例相互关联，比如，第一条用例为第二条用例创建执行环境，测试数据库的时候有如下测试用例：

    1. 创建一个记录
    2. 读取这个记录
    3. 更新这个记录
    4. 读取这个记录
    5. 删除这个记录
    6. 读取这个删除的记录

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这里每个测试用例都基于前一个用例。优势是用例足够小而简单。劣势是一个用例失败，接着用例全部失败。

- 独立测试用例 --- 每个用例自成系统，测试用例之间不相互依赖，优势是用例可以乱序执行。劣势是每个测试用例会比较庞大和复杂，更难设计、构建和维护。
